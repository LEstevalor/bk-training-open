(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{100:function(e,t,a){"use strict";a.r(t);var i=a(101);var r=a.n(i);for(var n in i)if(n!=="default")(function(e){a.d(t,e,function(){return i[e]})})(n);t["default"]=r.a},101:function(e,t,a){"use strict";var i=a(0);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a(30);a(102);var r=i(a(103));var n=i(a(104));var s=i(a(257));var c=i(a(259));var u=i(a(261));var o=i(a(31));var l=o.default.getallGroups;var d={components:{bkSelect:n.default,bkOption:r.default,TabBtn:s.default,GroupDaily:c.default,ExcellentDaily:u.default},data:function e(){return{selectGroup:"",curComponents:"GroupDaily",tabBtncontent:["小组日报","优秀日报"],groupList:[],active:"first"}},created:function e(){var t=this;l().then(function(e){t.selectGroup=e.data[0].id;t.groupList=e.data;t.$store.commit("groupDaily/setGroupID",e.data[0].id);t.takeGroupuser()})},methods:{changeType:function e(t){this.active=t;this.curComponents=t==="first"?"GroupDaily":"ExcellentDaily";this.$store.commit("groupDaily/setGroupID",this.selectGroup)},changeGroup:function e(t){this.selectGroup=t;this.$store.commit("groupDaily/setGroupID",t)},takeGroupuser:function e(){if(this.$route.query.group!==undefined&&this.$route.query.username!==undefined){this.selectGroup=this.$route.query.group;this.$store.commit("groupDaily/setGroupID",this.$route.query.group);this.$store.commit("groupDaily/setselectUserId",this.$route.query.username)}if(this.$route.query.group!==undefined&&this.$route.query.date!==undefined){this.selectGroup=this.$route.query.group;this.$store.commit("groupDaily/setGroupID",this.$route.query.group);this.$store.commit("groupDaily/setDate",this.$route.query.date)}}}};t.default=d},105:function(e,t,a){"use strict";a.r(t);var i=a(106);var r=a.n(i);for(var n in i)if(n!=="default")(function(e){a.d(t,e,function(){return i[e]})})(n);t["default"]=r.a},106:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i={props:{content:{type:Array},active:{type:String,default:"first"}},methods:{selectBtn:function e(t){this.active=t;this.$emit("changeType",t)}}};t.default=i},107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var i=a(109);var r=a.n(i);for(var n in i)if(n!=="default")(function(e){a.d(t,e,function(){return i[e]})})(n);t["default"]=r.a},109:function(e,t,a){"use strict";var i=a(0);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a(30);a(102);var r=i(a(96));var n=i(a(79));var s=i(a(88));var c=i(a(126));var u=i(a(103));var o=i(a(104));var l=i(a(95));var d=i(a(31));var v=d.default.getGroupUsers,p=d.default.getDaily;var f={components:{bkSelect:o.default,bkOption:u.default,bkDatePicker:c.default,bkException:s.default,bkPagination:n.default,bkButton:r.default},data:function e(t){return{myMsg:JSON.parse(window.localStorage.getItem("userMsg")),curGroupID:"",curType:"date",groupUsers:[],curSelectUser:null,curDateTime:(0,l.default)(new Date((new Date).getTime()-24*60*60*1e3)).format("YYYY-MM-DD"),renderDaily:[],pagingDevice:{curPage:1,limit:8,count:0,location:"left",align:"right",showLimit:true,limitList:[8,16,32,64]},isGray:false,customOption:{disabledDate:function e(t){if(t>new Date){return true}}}}},computed:{curDate:function e(){return this.$store.state.groupDaily.curDate},checkUser:function e(){return this.$store.state.groupDaily.selectUserId},curGroupIDChange:function e(){return this.$store.state.groupDaily.curGroupID}},watch:{curGroupIDChange:function e(t){this.curGroupID=t;this.getAllGroupUsers(true);this.curType="date";this.changeDate((0,l.default)(new Date(this.curDateTime)).format("YYYY-MM-DD"))},checkUser:function e(t){var a=this;this.filterUserId(t).then(function(e){a.curSelectUser=e;a.selectedType("member")})},curDate:function e(t){this.curDateTime=t;this.changeDate(t)}},methods:{activated:function e(){this.curGroupID=this.$store.state.groupDaily.curGroupID;this.getAllGroupUsers(true);this.curType="date";this.changeDate((0,l.default)(new Date((new Date).getTime()-24*60*60*1e3)).format("YYYY-MM-DD"))},getAllGroupUsers:function e(t){var a=this;v(this.curGroupID).then(function(e){a.groupUsers=e.data;if(t){a.curSelectUser=e.data[0].id}})},changeDate:function e(t){var a=this;this.getRenderDaily((0,l.default)(t).format("YYYY-MM-DD"),"",this.pagingDevice.limit,this.pagingDevice.curPage).then(function(e){a.renderDaily=e})},changeUser:function e(t){var a=this;this.pagingDevice.curPage=1;this.getRenderDaily("",t,this.pagingDevice.limit,this.pagingDevice.curPage).then(function(e){a.renderDaily=e})},selectedType:function e(t){this.pagingDevice.curPage=1;this.curType=t;if(t==="member"){this.changeUser(this.curSelectUser)}else{this.changeDate(this.curDateTime)}},changePage:function e(t){var a=this;this.pagingDevice.curPage=t;this.getRenderDaily("",this.curSelectUser,this.pagingDevice.limit,t).then(function(e){a.renderDaily=e})},changeLimit:function e(t){var a=this;this.pagingDevice.curPage=1;this.pagingDevice.limit=t;this.getRenderDaily("",this.curSelectUser,this.pagingDevice.limit,1).then(function(e){a.renderDaily=e})},judgeFloatString:function e(t){if(t==="0.0"||t==="0"||!t){return false}else if(typeof t==="string"&&t[0]==="0"){return false}else{return true}},filterUserId:function e(t){var a=this;return new Promise(function(e,i){v(a.curGroupID).then(function(i){a.groupUsers=i.data;i.data.forEach(function(a){if(a.username===t){e(a.id)}})})})},getRenderDaily:function e(t,a,i,r){var n=this;return new Promise(function(e,s){p(n.curGroupID,t,a,i,r).then(function(t){n.pagingDevice.count=t.data.total_report_num;n.my_today_report=t.data.my_today_report;e(t.data.reports)})})}}};t.default=f},110:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var i=a(112);var r=a.n(i);for(var n in i)if(n!=="default")(function(e){a.d(t,e,function(){return i[e]})})(n);t["default"]=r.a},112:function(e,t,a){"use strict";var i=a(0);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a(30);a(89);var r=i(a(79));var n=i(a(96));var s=i(a(95));var c=i(a(31));var u=c.default.getGoodDaily;var o={components:{bkButton:n.default,bkPagination:r.default},data:function e(){return{tabBtnContent:["全部","日期"],myMsg:JSON.parse(window.localStorage.getItem("userMsg")),curGroupID:"",selectType:"all",curDateTime:(0,s.default)(new Date((new Date).getTime()-24*60*60*1e3)).format("YYYY-MM-DD"),renderDaily:[],pagingDevice:{curPage:1,limit:8,count:300,location:"left",align:"right",showLimit:true,limitList:[8,16,32,64]},customOption:{disabledDate:function e(t){if(t>new Date){return true}}}}},computed:{curGroupIDBus:function e(){return this.$store.state.groupDaily.curGroupID}},watch:{curGroupIDBus:function e(t){this.curGroupID=t;this.RenderData(t)}},created:function e(){this.initData()},methods:{initData:function e(){this.curGroupID=this.$store.state.groupDaily.curGroupID;this.RenderData(this.$store.state.groupDaily.curGroupID)},judgeFloatString:function e(t){if(t==="0.0"||t==="0"||!t){return false}else if(typeof t==="string"&&t[0]==="0"){return false}else{return true}},changeType:function e(t){this.pagingDevice.curPage=1;this.selectType=t;this.RenderData(this.curGroupID)},changeDate:function e(t){this.pagingDevice.curPage=1;this.curDateTime=t;this.RenderData(this.curGroupID)},changePage:function e(t){this.pagingDevice.curPage=t;this.RenderData(this.curGroupID)},changeLimit:function e(t){this.pagingDevice.curPage=1;this.pagingDevice.limit=t;this.RenderData(this.curGroupID)},RenderData:function e(t){var a=this;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var n=this.pagingDevice,c=n.curPage,o=n.limit;if(this.selectType==="month"){i=(0,s.default)(this.curDateTime).format("YYYY");r=(0,s.default)(this.curDateTime).format("MM")}u(t,this.selectType,c,o,i,r).then(function(e){a.pagingDevice.count=e.data.total_report_num;a.renderDaily=e.data.daily_list})}}};t.default=o},113:function(e,t,a){},114:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var i=a(273);var r=a(105);for(var n in r)if(n!=="default")(function(e){a.d(t,e,function(){return r[e]})})(n);var s=a(258);var c=a(4);var u=Object(c["a"])(r["default"],i["a"],i["b"],false,null,"31467036",null);t["default"]=u.exports},258:function(e,t,a){"use strict";var i=a(107);var r=a.n(i);var n=r.a},259:function(e,t,a){"use strict";a.r(t);var i=a(274);var r=a(108);for(var n in r)if(n!=="default")(function(e){a.d(t,e,function(){return r[e]})})(n);var s=a(260);var c=a(4);var u=Object(c["a"])(r["default"],i["a"],i["b"],false,null,"171e7855",null);t["default"]=u.exports},260:function(e,t,a){"use strict";var i=a(110);var r=a.n(i);var n=r.a},261:function(e,t,a){"use strict";a.r(t);var i=a(275);var r=a(111);for(var n in r)if(n!=="default")(function(e){a.d(t,e,function(){return r[e]})})(n);var s=a(262);var c=a(4);var u=Object(c["a"])(r["default"],i["a"],i["b"],false,null,"20bac15f",null);t["default"]=u.exports},262:function(e,t,a){"use strict";var i=a(113);var r=a.n(i);var n=r.a},263:function(e,t,a){"use strict";var i=a(114);var r=a.n(i);var n=r.a},269:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"groupDailys"},[a("div",{staticClass:"groupDailys-btn"},[a("div",[a("bk-select",{staticStyle:{width:"250px"},attrs:{disabled:false,"ext-cls":"selectgroup",clearable:false,behavior:"simplicity",searchable:""},on:{selected:e.changeGroup},model:{value:e.selectGroup,callback:function(t){e.selectGroup=t},expression:"selectGroup"}},e._l(e.groupList,function(e){return a("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})}),1)],1),e._v(" "),a("TabBtn",{attrs:{content:e.tabBtncontent,active:e.active},on:{changeType:e.changeType}})],1),e._v(" "),a("keep-alive",[a(e.curComponents,{tag:"component"})],1)],1)};var r=[];a.d(t,"a",function(){return i});a.d(t,"b",function(){return r})},273:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"tabbtn"},[a("span",{class:e.active==="first"?"Active":"noActive",on:{click:function(t){e.selectBtn("first")}}},[e._v(e._s(e.content[0]))]),e._v(" "),a("span",[e._v("/")]),e._v(" "),a("span",{class:e.active==="second"?"Active":"noActive",on:{click:function(t){e.selectBtn("second")}}},[e._v(e._s(e.content[1]))])])};var r=[];a.d(t,"a",function(){return i});a.d(t,"b",function(){return r})},274:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"groupdaily"},[a("div",{staticClass:"groupdaily-btn"},[a("div",{staticClass:"bk-button-group"},[a("bk-button",{class:e.curType==="date"?"is-selected":"",attrs:{size:"small"},on:{click:function(t){e.selectedType("date")}}},[e._v("日期")]),e._v(" "),a("bk-button",{class:e.curType==="member"?"is-selected":"",attrs:{size:"small"},on:{click:function(t){e.selectedType("member")}}},[e._v("成员")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.curType==="member",expression:"curType === 'member'"}],staticClass:"groupdaily-member-select"},[a("bk-select",{staticStyle:{width:"250px"},attrs:{disabled:false,behavior:"normal",clearable:false,"font-size":"normal","ext-popover-cls":"select-popover-custom",searchable:""},on:{selected:e.changeUser},model:{value:e.curSelectUser,callback:function(t){e.curSelectUser=t},expression:"curSelectUser"}},e._l(e.groupUsers,function(e){return a("bk-option",{key:e.id,attrs:{id:e.id,name:e.name||e.username}})}),1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.curType==="date",expression:"curType === 'date'"}],staticClass:"groupdaily-date-select"},[a("bk-date-picker",{staticClass:"mr15",staticStyle:{width:"250px"},attrs:{"font-size":"normal",options:e.customOption,clearable:false},on:{change:e.changeDate},model:{value:e.curDateTime,callback:function(t){e.curDateTime=t},expression:"curDateTime"}})],1),e._v(" "),a("div",{staticClass:"halving"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.renderDaily&&e.renderDaily.length,expression:"renderDaily && renderDaily.length"}],staticClass:"renderlistbox"},[e._l(e.renderDaily,function(t,i){return a("bk-card",{key:i,staticClass:"all-report-card card",attrs:{title:t.create_by+"("+t.create_name+")"}},[a("div",{staticClass:"card-header",attrs:{slot:"header",title:t.create_by+"("+t.create_name+")"},slot:"header"},[a("span",{staticClass:"card-usename"},[e._v(e._s(t.create_by+"("+t.create_name+")"))]),e._v(" "),a("span",{staticClass:"card-time"},[e._v(e._s(t.date))])]),e._v(" "),e._l(t.content,function(i,r){return a("div",{key:r},[a("div",{staticClass:"sub-title"},[e._v(e._s(i.title))]),e._v(" "),i.type==="table"?a("div",{staticStyle:{"font-size":"14px"}},e._l(i.content,function(i,r){return a("div",{key:r},[a("div",{staticClass:"card-pre"},[a("div",{staticClass:"content-wapper"},[a("span",{staticClass:"time-wapper"},[a("bk-tag",{directives:[{name:"show",rawName:"v-show",value:(e.myMsg.username===t.create_by||!i.isPrivate)&&e.judgeFloatString(i.cost),expression:"(myMsg.username === daily.create_by || !row.isPrivate) && judgeFloatString(row.cost)"}]},[e._v("\n                                        "+e._s(typeof i.cost==="string"?i.cost:i.cost.toFixed(1)+"h")+"\n                                    ")]),e._v(" "),a("bk-tag",{directives:[{name:"show",rawName:"v-show",value:!(e.myMsg.username===t.create_by||!i.isPrivate)||!e.judgeFloatString(i.cost),expression:"!(myMsg.username === daily.create_by || !row.isPrivate) || !judgeFloatString(row.cost)"}]},[e._v("\n                                        - -\n                                    ")])],1),e._v("\n                                "+e._s(i.text)+"\n                            ")])])])}),0):a("div",{staticStyle:{"font-size":"14px","line-height":"22px"}},[e._v("\n                    "+e._s(i.text)+"\n                ")])])})],2)}),e._v(" "),e._l([1,2,3,4],function(e){return a("li",{key:e,staticClass:"renderlistbox-tiptoe"})}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.curType==="member",expression:"curType === 'member'"}],staticClass:"renderlistbox-pagination"},[a("bk-pagination",{attrs:{size:"small",current:e.pagingDevice.curPage,limit:e.pagingDevice.limit,count:e.pagingDevice.count,location:e.pagingDevice.location,align:e.pagingDevice.align,"show-limit":e.pagingDevice.showLimit,"limit-list":e.pagingDevice.limitList},on:{change:e.changePage,"limit-change":e.changeLimit,"update:current":function(t){e.$set(e.pagingDevice,"curPage",t)}}})],1)],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.renderDaily&&e.renderDaily.length===0,expression:"renderDaily && renderDaily.length === 0"}],staticClass:"notrender"},[a("div",{staticClass:"exception-wrap"},[a("bk-exception",{staticClass:"exception-wrap-item exception-part",class:{"exception-gray":e.isGray},attrs:{"ext-cls":"notrender-box",type:"empty",scene:"part"}},[e._v(" 暂时还没有日报 ")])],1)])])};var r=[];a.d(t,"a",function(){return i});a.d(t,"b",function(){return r})},275:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"excellentdaily"},[a("div",{staticClass:"excellentdaily-btn"},[a("div",{staticClass:"bk-button-group"},[a("bk-button",{class:e.selectType==="all"?"is-selected":"",attrs:{size:"small"},on:{click:function(t){e.changeType("all")}}},[e._v("全部")]),e._v(" "),a("bk-button",{class:e.selectType==="month"?"is-selected":"",attrs:{size:"small"},on:{click:function(t){e.changeType("month")}}},[e._v("日期")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectType==="month",expression:"selectType === 'month'"}],staticClass:"excellentdaily-date-select"},[a("bk-date-picker",{staticClass:"mr15",staticStyle:{width:"250px"},attrs:{type:"month",clearable:false,behavior:"normal","font-size":"normal"},on:{change:e.changeDate},model:{value:e.curDateTime,callback:function(t){e.curDateTime=t},expression:"curDateTime"}})],1),e._v(" "),a("div",{staticClass:"halving"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.renderDaily&&e.renderDaily.length,expression:"renderDaily && renderDaily.length"}],staticClass:"excellentdaily-renderlistbox"},[e._l(e.renderDaily,function(t,i){return a("bk-card",{key:i,staticClass:"all-report-card card",attrs:{title:t.create_by+"("+t.create_name+")"}},[a("div",{staticClass:"card-header",attrs:{slot:"header",title:t.create_by+"("+t.create_name+")"},slot:"header"},[a("span",{staticClass:"card-usename"},[e._v(e._s(t.create_by+"("+t.create_name+")"))]),e._v(" "),a("span",{staticClass:"card-time"},[e._v(e._s(t.date))])]),e._v(" "),e._l(t.content,function(i,r){return a("div",{key:r},[a("div",{staticClass:"sub-title"},[e._v(e._s(i.title))]),e._v(" "),i.type==="table"?a("div",{staticStyle:{"font-size":"14px"}},e._l(i.content,function(i,r){return a("div",{key:r},[a("div",{staticClass:"card-pre"},[a("div",{staticClass:"content-wapper"},[a("span",{staticClass:"time-wapper"},[a("bk-tag",{directives:[{name:"show",rawName:"v-show",value:(e.myMsg.username===t.create_by||!i.isPrivate)&&e.judgeFloatString(i.cost),expression:"(myMsg.username === daily.create_by || !row.isPrivate) && judgeFloatString(row.cost)"}]},[e._v("\n                                        "+e._s(typeof i.cost==="string"?i.cost:i.cost.toFixed(1)+"h")+"\n                                    ")]),e._v(" "),a("bk-tag",{directives:[{name:"show",rawName:"v-show",value:!(e.myMsg.username===t.create_by||!i.isPrivate)||!e.judgeFloatString(i.cost),expression:"!(myMsg.username === daily.create_by || !row.isPrivate) || !judgeFloatString(row.cost)"}]},[e._v("\n                                        - -\n                                    ")])],1),e._v("\n                                "+e._s(i.text)+"\n                            ")])])])}),0):a("div",{staticStyle:{"font-size":"14px","line-height":"22px"}},[e._v("\n                    "+e._s(i.text)+"\n                ")])])})],2)}),e._v(" "),e._l([1,2,3,4],function(e){return a("li",{key:e,staticClass:"renderlistbox-tiptoe"})}),e._v(" "),a("div",{staticClass:"renderlistbox-pagination"},[a("bk-pagination",{attrs:{size:"small",current:e.pagingDevice.curPage,limit:e.pagingDevice.limit,count:e.pagingDevice.count||8,location:e.pagingDevice.location,align:e.pagingDevice.align,"show-limit":e.pagingDevice.showLimit,"limit-list":e.pagingDevice.limitList},on:{change:e.changePage,"limit-change":e.changeLimit,"update:current":function(t){e.$set(e.pagingDevice,"curPage",t)}}})],1)],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.renderDaily&&e.renderDaily.length===0,expression:"renderDaily && renderDaily.length === 0"}],staticClass:"notrender"},[a("div",{staticClass:"exception-wrap"},[a("bk-exception",{staticClass:"exception-wrap-item exception-part",class:{"exception-gray":e.isGray},attrs:{options:e.customOption,"ext-cls":"notrender-box",type:"empty",scene:"part"}},[e._v(" 暂时还没有优秀日报 ")])],1)])])};var r=[];a.d(t,"a",function(){return i});a.d(t,"b",function(){return r})},87:function(e,t,a){"use strict";a.r(t);var i=a(269);var r=a(100);for(var n in r)if(n!=="default")(function(e){a.d(t,e,function(){return r[e]})})(n);var s=a(263);var c=a(4);var u=Object(c["a"])(r["default"],i["a"],i["b"],false,null,null,null);t["default"]=u.exports}}]);