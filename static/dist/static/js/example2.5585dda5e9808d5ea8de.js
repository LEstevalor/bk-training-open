(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{100:function(e,t,a){"use strict";var i=a(0);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a(30);a(101);var r=i(a(102));var n=i(a(103));var s=i(a(256));var c=i(a(258));var u=i(a(260));var l=i(a(31));var o=l.default.getallGroups,d=l.default.getGroupUsers;var v={components:{bkSelect:n.default,bkOption:r.default,TabBtn:s.default,GroupDaily:c.default,ExcellentDaily:u.default},data:function e(){return{selectGroup:"",curComponents:"GroupDaily",tabBtncontent:["小组日报","优秀日报"],groupList:[],active:"first",renderUser:null,AdminList:null}},watch:{selectGroup:function e(t){var a=this;this.filterAdmin().then(function(e){a.AdminList=e;a.renderUserList(e)})}},created:function e(){var t=this;o().then(function(e){t.selectGroup=e.data[0].id;t.groupList=e.data;t.takeGroupuser()})},methods:{changeType:function e(t){this.active=t;this.curComponents=t==="first"?"GroupDaily":"ExcellentDaily"},changeGroup:function e(t){this.selectGroup=t},filterAdmin:function e(){var t=this;return new Promise(function(e,a){t.groupList.forEach(function(a){if(Number(a.id)===Number(t.selectGroup)){e(a.admin)}})})},renderUserList:function e(t){var a=this;d(this.selectGroup).then(function(e){a.renderUser=e.data.filter(function(e){return!t.includes(e.username)})})},takeGroupuser:function e(){if(this.$route.query.group!==undefined&&this.$route.query.username!==undefined){this.selectGroup=this.$route.query.group;this.username=this.$route.query.username}if(this.$route.query.group!==undefined&&this.$route.query.date!==undefined){this.selectGroup=this.$route.query.group;this.date=this.$route.query.date}}}};t.default=v},104:function(e,t,a){"use strict";a.r(t);var i=a(105);var r=a.n(i);for(var n in i)if(n!=="default")(function(e){a.d(t,e,function(){return i[e]})})(n);t["default"]=r.a},105:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var i={props:{content:{type:Array},active:{type:String,default:"first"}},methods:{selectBtn:function e(t){this.active=t;this.$emit("changeType",t)}}};t.default=i},106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var i=a(108);var r=a.n(i);for(var n in i)if(n!=="default")(function(e){a.d(t,e,function(){return i[e]})})(n);t["default"]=r.a},108:function(e,t,a){"use strict";var i=a(0);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a(30);a(101);var r=i(a(95));var n=i(a(78));var s=i(a(87));var c=i(a(125));var u=i(a(102));var l=i(a(103));var o=i(a(94));var d=i(a(31));var v=d.default.getDaily;var p={components:{bkSelect:l.default,bkOption:u.default,bkDatePicker:c.default,bkException:s.default,bkPagination:n.default,bkButton:r.default},props:{curgroupid:{type:Number},adminlist:{type:Object},groupusers:{type:Object},curdate:{type:String},username:{type:String}},data:function e(t){return{myMsg:JSON.parse(window.localStorage.getItem("userMsg")),curType:"date",curSelectUser:null,curDateTime:(0,o.default)(new Date((new Date).getTime()-24*60*60*1e3)).format("YYYY-MM-DD"),renderDaily:[],pagingDevice:{curPage:1,limit:8,count:0,location:"left",align:"right",showLimit:true,limitList:[8,16,32,64]},isGray:false,customOption:{disabledDate:function e(t){if(t>new Date){return true}}}}},watch:{groupusers:function e(){var t=this;this.filterUserId(this.username).then(function(e){t.curSelectUser=e;t.selectedType("member")})},curgroupid:function e(){this.curType="date";this.pagingDevice.curPage=1;this.changeDate((0,o.default)(this.curdate).format("YYYY-MM-DD"))},curdate:function e(t){this.curDateTime=t;this.changeDate(t)}},methods:{changeDate:function e(t){this.getRenderDaily((0,o.default)(t).format("YYYY-MM-DD"),"",this.pagingDevice.limit,this.pagingDevice.curPage)},changeUser:function e(t){this.pagingDevice.curPage=1;this.getRenderDaily("",t,this.pagingDevice.limit,this.pagingDevice.curPage)},selectedType:function e(t){this.pagingDevice.curPage=1;this.curType=t;if(t==="member"){if(this.groupusers.length!==0){this.curSelectUser=this.groupusers[0].id;this.changeUser(this.curSelectUser)}else{this.curSelectUser=""}}else{this.changeDate(this.curdate)}},changePage:function e(t){this.pagingDevice.curPage=t;this.getRenderDaily("",this.curSelectUser,this.pagingDevice.limit,t)},changeLimit:function e(t){this.pagingDevice.curPage=1;this.pagingDevice.limit=t;this.getRenderDaily("",this.curSelectUser,this.pagingDevice.limit,1)},judgeFloatString:function e(t){if(t==="0.0"||t==="0"||!t){return false}else if(typeof t==="string"&&t[0]==="0"){return false}else{return true}},filterUserId:function e(t){var a=this;return new Promise(function(e,i){a.groupusers.forEach(function(a){if(a.username===t){e(a.id)}})})},getRenderDaily:function e(t,a,i,r){var n=this;v(this.curgroupid,t,a,i,r).then(function(e){var t=e.data.reports.filter(function(e){return!n.adminlist.includes(e.create_by)});n.pagingDevice.count=e.data.total_report_num;n.my_today_report=e.data.total_report_num;n.renderDaily=t})}}};t.default=p},109:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var i=a(111);var r=a.n(i);for(var n in i)if(n!=="default")(function(e){a.d(t,e,function(){return i[e]})})(n);t["default"]=r.a},111:function(e,t,a){"use strict";var i=a(0);Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;a(30);a(88);var r=i(a(78));var n=i(a(95));var s=i(a(94));var c=i(a(31));var u=c.default.getGoodDaily;var l={components:{bkButton:n.default,bkPagination:r.default},props:{curgroupid:{type:Number},adminlist:{type:Object}},data:function e(){return{tabBtnContent:["全部","日期"],myMsg:JSON.parse(window.localStorage.getItem("userMsg")),selectType:"all",curDateTime:(0,s.default)(new Date((new Date).getTime()-24*60*60*1e3)).format("YYYY-MM-DD"),renderDaily:[],pagingDevice:{curPage:1,limit:8,count:300,location:"left",align:"right",showLimit:true,limitList:[8,16,32,64]},customOption:{disabledDate:function e(t){if(t>new Date){return true}}}}},watch:{curgroupid:function e(){this.pagingDevice.curPage=1;this.RenderData()}},created:function e(){this.initData()},methods:{initData:function e(){this.RenderData()},judgeFloatString:function e(t){if(t==="0.0"||t==="0"||!t){return false}else if(typeof t==="string"&&t[0]==="0"){return false}else{return true}},changeType:function e(t){this.pagingDevice.curPage=1;this.selectType=t;this.RenderData()},changeDate:function e(t){this.pagingDevice.curPage=1;this.curDateTime=t;this.RenderData()},changePage:function e(t){this.pagingDevice.curPage=t;this.RenderData()},changeLimit:function e(t){this.pagingDevice.curPage=1;this.pagingDevice.limit=t;this.RenderData()},RenderData:function e(){var t=this;var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var r=this.pagingDevice,n=r.curPage,c=r.limit;if(this.selectType==="month"){a=(0,s.default)(this.curDateTime).format("YYYY");i=(0,s.default)(this.curDateTime).format("MM")}u(this.curgroupid,this.selectType,n,c,a,i).then(function(e){t.renderDaily=e.data.daily_list;t.pagingDevice.count=e.data.total_num})}}};t.default=l},112:function(e,t,a){},113:function(e,t,a){},256:function(e,t,a){"use strict";a.r(t);var i=a(272);var r=a(104);for(var n in r)if(n!=="default")(function(e){a.d(t,e,function(){return r[e]})})(n);var s=a(257);var c=a(4);var u=Object(c["a"])(r["default"],i["a"],i["b"],false,null,"31467036",null);t["default"]=u.exports},257:function(e,t,a){"use strict";var i=a(106);var r=a.n(i);var n=r.a},258:function(e,t,a){"use strict";a.r(t);var i=a(273);var r=a(107);for(var n in r)if(n!=="default")(function(e){a.d(t,e,function(){return r[e]})})(n);var s=a(259);var c=a(4);var u=Object(c["a"])(r["default"],i["a"],i["b"],false,null,"48a00bd4",null);t["default"]=u.exports},259:function(e,t,a){"use strict";var i=a(109);var r=a.n(i);var n=r.a},260:function(e,t,a){"use strict";a.r(t);var i=a(274);var r=a(110);for(var n in r)if(n!=="default")(function(e){a.d(t,e,function(){return r[e]})})(n);var s=a(261);var c=a(4);var u=Object(c["a"])(r["default"],i["a"],i["b"],false,null,"7dd0a806",null);t["default"]=u.exports},261:function(e,t,a){"use strict";var i=a(112);var r=a.n(i);var n=r.a},262:function(e,t,a){"use strict";var i=a(113);var r=a.n(i);var n=r.a},268:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"groupDailys"},[a("div",{staticClass:"groupDailys-btn"},[a("div",[a("bk-select",{staticStyle:{width:"250px"},attrs:{disabled:false,"ext-cls":"selectgroup",clearable:false,behavior:"simplicity",searchable:""},on:{selected:e.changeGroup},model:{value:e.selectGroup,callback:function(t){e.selectGroup=t},expression:"selectGroup"}},e._l(e.groupList,function(e){return a("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})}),1)],1),e._v(" "),a("TabBtn",{attrs:{content:e.tabBtncontent,active:e.active},on:{changeType:e.changeType}})],1),e._v(" "),a("keep-alive",[a(e.curComponents,{tag:"component",attrs:{curgroupid:e.selectGroup,adminlist:e.AdminList,groupusers:e.renderUser,curdate:e.date||1,username:e.username}})],1)],1)};var r=[];a.d(t,"a",function(){return i});a.d(t,"b",function(){return r})},272:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"tabbtn"},[a("span",{class:e.active==="first"?"Active":"noActive",on:{click:function(t){e.selectBtn("first")}}},[e._v(e._s(e.content[0]))]),e._v(" "),a("span",[e._v("/")]),e._v(" "),a("span",{class:e.active==="second"?"Active":"noActive",on:{click:function(t){e.selectBtn("second")}}},[e._v(e._s(e.content[1]))])])};var r=[];a.d(t,"a",function(){return i});a.d(t,"b",function(){return r})},273:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"groupdaily"},[a("div",{staticClass:"groupdaily-btn"},[a("div",{staticClass:"bk-button-group"},[a("bk-button",{class:e.curType==="date"?"is-selected":"",attrs:{size:"small"},on:{click:function(t){e.selectedType("date")}}},[e._v("日期")]),e._v(" "),a("bk-button",{class:e.curType==="member"?"is-selected":"",attrs:{size:"small"},on:{click:function(t){e.selectedType("member")}}},[e._v("成员")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.curType==="member",expression:"curType === 'member'"}],staticClass:"groupdaily-member-select"},[a("bk-select",{staticStyle:{width:"250px"},attrs:{disabled:false,behavior:"normal",clearable:false,"font-size":"normal","ext-popover-cls":"select-popover-custom",searchable:""},on:{selected:e.changeUser},model:{value:e.curSelectUser,callback:function(t){e.curSelectUser=t},expression:"curSelectUser"}},e._l(e.groupusers,function(e){return a("bk-option",{key:e.id,attrs:{id:e.id,name:e.name||e.username}})}),1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.curType==="date",expression:"curType === 'date'"}],staticClass:"groupdaily-date-select"},[a("bk-date-picker",{staticClass:"mr15",staticStyle:{width:"250px"},attrs:{"font-size":"normal",options:e.customOption,clearable:false},on:{change:e.changeDate},model:{value:e.curDateTime,callback:function(t){e.curDateTime=t},expression:"curDateTime"}})],1),e._v(" "),a("div",{staticClass:"halving"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.renderDaily&&e.renderDaily.length,expression:"renderDaily && renderDaily.length"}],staticClass:"renderlistbox"},[e._l(e.renderDaily,function(t,i){return a("bk-card",{key:i,staticClass:"all-report-card card",attrs:{title:t.create_by+"("+t.create_name+")"}},[a("div",{staticClass:"card-header",attrs:{slot:"header",title:t.create_by+"("+t.create_name+")"},slot:"header"},[a("span",{staticClass:"card-usename"},[e._v(e._s(t.create_by+"("+t.create_name+")"))]),e._v(" "),a("span",{staticClass:"card-time"},[e._v(e._s(t.date))])]),e._v(" "),e._l(t.content,function(i,r){return a("div",{key:r},[a("div",{staticClass:"sub-title"},[e._v(e._s(i.title))]),e._v(" "),i.type==="table"?a("div",{staticStyle:{"font-size":"14px"}},e._l(i.content,function(i,r){return a("div",{key:r},[a("div",{staticClass:"card-pre"},[a("div",{staticClass:"content-wapper"},[a("span",{staticClass:"time-wapper"},[a("bk-tag",{directives:[{name:"show",rawName:"v-show",value:(e.myMsg.username===t.create_by||!i.isPrivate)&&e.judgeFloatString(i.cost),expression:"(myMsg.username === daily.create_by || !row.isPrivate) && judgeFloatString(row.cost)"}]},[e._v("\n                                        "+e._s(typeof i.cost==="string"?i.cost:i.cost.toFixed(1)+"h")+"\n                                    ")]),e._v(" "),a("bk-tag",{directives:[{name:"show",rawName:"v-show",value:!(e.myMsg.username===t.create_by||!i.isPrivate)||!e.judgeFloatString(i.cost),expression:"!(myMsg.username === daily.create_by || !row.isPrivate) || !judgeFloatString(row.cost)"}]},[e._v("\n                                        - -\n                                    ")])],1),e._v("\n                                "+e._s(i.text)+"\n                            ")])])])}),0):a("div",{staticStyle:{"font-size":"14px","line-height":"22px"}},[e._v("\n                    "+e._s(i.text)+"\n                ")])])})],2)}),e._v(" "),e._l([1,2,3,4],function(e){return a("li",{key:e,staticClass:"renderlistbox-tiptoe"})}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.curType==="member",expression:"curType === 'member'"}],staticClass:"renderlistbox-pagination"},[a("bk-pagination",{attrs:{size:"small",current:e.pagingDevice.curPage,limit:e.pagingDevice.limit,count:e.pagingDevice.count,location:e.pagingDevice.location,align:e.pagingDevice.align,"show-limit":e.pagingDevice.showLimit,"limit-list":e.pagingDevice.limitList},on:{change:e.changePage,"limit-change":e.changeLimit,"update:current":function(t){e.$set(e.pagingDevice,"curPage",t)}}})],1)],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.renderDaily&&e.renderDaily.length===0,expression:"renderDaily && renderDaily.length === 0"}],staticClass:"notrender"},[a("div",{staticClass:"exception-wrap"},[a("bk-exception",{staticClass:"exception-wrap-item exception-part",class:{"exception-gray":e.isGray},attrs:{"ext-cls":"notrender-box",type:"empty",scene:"part"}},[e._v(" 暂时还没有日报 ")])],1)])])};var r=[];a.d(t,"a",function(){return i});a.d(t,"b",function(){return r})},274:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"excellentdaily"},[a("div",{staticClass:"excellentdaily-btn"},[a("div",{staticClass:"bk-button-group"},[a("bk-button",{class:e.selectType==="all"?"is-selected":"",attrs:{size:"small"},on:{click:function(t){e.changeType("all")}}},[e._v("全部")]),e._v(" "),a("bk-button",{class:e.selectType==="month"?"is-selected":"",attrs:{size:"small"},on:{click:function(t){e.changeType("month")}}},[e._v("日期")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectType==="month",expression:"selectType === 'month'"}],staticClass:"excellentdaily-date-select"},[a("bk-date-picker",{staticClass:"mr15",staticStyle:{width:"250px"},attrs:{type:"month",clearable:false,behavior:"normal","font-size":"normal"},on:{change:e.changeDate},model:{value:e.curDateTime,callback:function(t){e.curDateTime=t},expression:"curDateTime"}})],1),e._v(" "),a("div",{staticClass:"halving"})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.renderDaily&&e.renderDaily.length,expression:"renderDaily && renderDaily.length"}],staticClass:"excellentdaily-renderlistbox"},[e._l(e.renderDaily,function(t,i){return a("bk-card",{key:i,staticClass:"all-report-card card",attrs:{title:t.create_by+"("+t.create_name+")"}},[a("div",{staticClass:"card-header",attrs:{slot:"header",title:t.create_by+"("+t.create_name+")"},slot:"header"},[a("span",{staticClass:"card-usename"},[e._v(e._s(t.create_by+"("+t.create_name+")"))]),e._v(" "),a("span",{staticClass:"card-time"},[e._v(e._s(t.date))])]),e._v(" "),e._l(t.content,function(i,r){return a("div",{key:r},[a("div",{staticClass:"sub-title"},[e._v(e._s(i.title))]),e._v(" "),i.type==="table"?a("div",{staticStyle:{"font-size":"14px"}},e._l(i.content,function(i,r){return a("div",{key:r},[a("div",{staticClass:"card-pre"},[a("div",{staticClass:"content-wapper"},[a("span",{staticClass:"time-wapper"},[a("bk-tag",{directives:[{name:"show",rawName:"v-show",value:(e.myMsg.username===t.create_by||!i.isPrivate)&&e.judgeFloatString(i.cost),expression:"(myMsg.username === daily.create_by || !row.isPrivate) && judgeFloatString(row.cost)"}]},[e._v("\n                                        "+e._s(typeof i.cost==="string"?i.cost:i.cost.toFixed(1)+"h")+"\n                                    ")]),e._v(" "),a("bk-tag",{directives:[{name:"show",rawName:"v-show",value:!(e.myMsg.username===t.create_by||!i.isPrivate)||!e.judgeFloatString(i.cost),expression:"!(myMsg.username === daily.create_by || !row.isPrivate) || !judgeFloatString(row.cost)"}]},[e._v("\n                                        - -\n                                    ")])],1),e._v("\n                                "+e._s(i.text)+"\n                            ")])])])}),0):a("div",{staticStyle:{"font-size":"14px","line-height":"22px"}},[e._v("\n                    "+e._s(i.text)+"\n                ")])])})],2)}),e._v(" "),e._l([1,2,3,4],function(e){return a("li",{key:e,staticClass:"renderlistbox-tiptoe"})}),e._v(" "),a("div",{staticClass:"renderlistbox-pagination"},[a("bk-pagination",{attrs:{size:"small",current:e.pagingDevice.curPage,limit:e.pagingDevice.limit,count:e.pagingDevice.count||8,location:e.pagingDevice.location,align:e.pagingDevice.align,"show-limit":e.pagingDevice.showLimit,"limit-list":e.pagingDevice.limitList},on:{change:e.changePage,"limit-change":e.changeLimit,"update:current":function(t){e.$set(e.pagingDevice,"curPage",t)}}})],1)],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.renderDaily&&e.renderDaily.length===0,expression:"renderDaily && renderDaily.length === 0"}],staticClass:"notrender"},[a("div",{staticClass:"exception-wrap"},[a("bk-exception",{staticClass:"exception-wrap-item exception-part",class:{"exception-gray":e.isGray},attrs:{options:e.customOption,"ext-cls":"notrender-box",type:"empty",scene:"part"}},[e._v(" 暂时还没有优秀日报 ")])],1)])])};var r=[];a.d(t,"a",function(){return i});a.d(t,"b",function(){return r})},86:function(e,t,a){"use strict";a.r(t);var i=a(268);var r=a(99);for(var n in r)if(n!=="default")(function(e){a.d(t,e,function(){return r[e]})})(n);var s=a(262);var c=a(4);var u=Object(c["a"])(r["default"],i["a"],i["b"],false,null,null,null);t["default"]=u.exports},99:function(e,t,a){"use strict";a.r(t);var i=a(100);var r=a.n(i);for(var n in i)if(n!=="default")(function(e){a.d(t,e,function(){return i[e]})})(n);t["default"]=r.a}}]);